@(user: User, userForm: Form[UserRegistrationData])(implicit flash: Flash)
@import b3.vertical.fieldConstructor

@main("Profile settings - " + s"${user.username}"){
    @flash.get("succes").map { success =>
        <div class="alert alert-success" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Success:</span>
            @success
        </div>
    }
    @if(userForm.hasGlobalErrors) {
        @for(error <- userForm.globalErrors) {
            <div class="alert alert-danger" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <span class="sr-only">Error:</span>
                @error.message
            </div>
        }
    }
    @b3.form(routes.Users.updateUser) {
        @b3.text( userForm("username"), '_label -> "Username", 'placeholder -> "Username" )
        @b3.password( userForm("password"), '_label -> "Password", 'placeholder -> "Password" )
        @b3.password( userForm("passwordTwo"), '_label -> "Password", 'placeholder -> "Repeat password" )
        @b3.text( userForm("email"), '_label -> "E-mail", 'placeholder -> "E-Mail" )
        @b3.text( userForm("firstName"), '_label -> "First Name", 'placeholder -> "First Name" )
        @b3.text( userForm("prefix"), '_label -> "Prefix", 'placeholder -> "Prefix (opt)" )
        @b3.text( userForm("lastName"), '_label -> "Last name", 'placeholder -> "lastName" )
        @b3.submit('class -> "btn btn-default"){ Update }
    }
}