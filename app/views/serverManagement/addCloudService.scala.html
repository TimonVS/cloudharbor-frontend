@(cloudServiceForm: Form[ServerData], regions: Seq[(String, String)], sizes: Seq[(String, String)])(
    implicit flash: Flash, request: RequestHeader, user: User)
@import b3.vertical.fieldConstructor

@main("Add a server", Some(Messages("menu.servers"))) {
    <h4>Add a Digital Ocean server:</h4>
    @flash.get("error").map{error =>
        <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            @error
        </div>
    }
    @if(cloudServiceForm.hasGlobalErrors) {
        @for(error <- cloudServiceForm.globalErrors) {
            <div class="alert alert-danger" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <span class="sr-only">Error:</span>
                @error.message
            </div>
        }
    }
    @b3.form(routes.ServerManagement.createServer()) {
        @b3.text( cloudServiceForm("name"), '_label -> "Name", 'placeholder -> "Server name" )
        @b3.select( cloudServiceForm("region"), options = regions, '_label -> "Select a region" )
        @b3.select( cloudServiceForm("size"), options = sizes, '_label -> "Select a size" )
        @b3.checkbox( cloudServiceForm("backUps"), '_text -> "Enable backups", 'value -> false )
        @b3.checkbox( cloudServiceForm("ipv6"), '_text -> "Enable ipv6", 'value -> false )
        @b3.checkbox( cloudServiceForm("ssh"), '_text -> "Add ssh", 'value -> false)
        @b3.text( cloudServiceForm("sshName"), 'label -> "Ssh Name", 'placeholder -> "Name of the SSH Key")
        @b3.textarea( cloudServiceForm("publicKey"), '_label -> "Public Key", 'rows -> 5 )
        @b3.submit('class -> "btn btn-default"){ Add server }
    }
}
